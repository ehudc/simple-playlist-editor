<!doctype html>
<html>
<head>
  <title>Spotify Playlist Editor</title>
  <!--<link rel="stylesheet" href="//netdna.bootstrapcdn.com/bootstrap/3.1.1/css/bootstrap.min.css">-->

  <script src="//cdnjs.cloudflare.com/ajax/libs/handlebars.js/4.0.5/handlebars.min.js"></script>
  <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.2.0/jquery.min.js"></script>
  <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/underscore.js/1.8.3/underscore-min.js"></script>
  <script src="https://sp-bootstrap.global.ssl.fastly.net/7.1.1/sp-bootstrap.min.js"></script>

  <link rel="stylesheet" type="text/css" href="https://sp-bootstrap.global.ssl.fastly.net/7.1.1/sp-bootstrap.min.css">
  <link rel="stylesheet" type="text/css" href="styles.css">
</head>

<body>
<div class="container">
  <div id="login">
    <h1>Sign in to view and edit your playlists:</h1>
    <button id="login-button" class="btn btn-primary">Log in with Spotify</button>
  </div>
  <div id="loggedin">
    <div class="dropdown">
      <button class="btn btn-default dropdown-toggle" type="button" id="dropdownMenu1" data-toggle="dropdown" aria-haspopup="true" aria-expanded="true">
        Select A Playlist
        <span class="caret"></span>
      </button>
      <ul class="dropdown-menu playlist_results" aria-labelledby="dropdownMenu1">
      </ul>
    </div>

    <div id="new_playlist">
      <h4>OR create a new playlist, and then select from the dropdown:</h4>
      <input type="text" id="playlist_name">
      <button type="button" class="btn-create btn btn-primary">Create</button>
    </div>

    <div id="results">
      <div id="search">
        Search for songs:<br>
        <input type="text" id="track_search">
        <ul id="search_results">
        </ul>
        <!--<button type="button" class="btn-restart btn">Clear Search</button>-->
      </div>

      <div id="playlist">
        <span>"Update" will use the songs selected below</span></br>
        <span>"Clear" will empty the entire playlist</span></br>
        <div id="playlist_options">
        </div>
        Tracks in this playlist:</br>
        <ul id="playlist_tracks">
        </ul>
      </div>
    </div>

  </div>
</div>

<script id="user-playlists-template" type="text/x-handlebars-template">
  {{#each this}}
    <li class="playlist_item" data-name={{this.name}} data-uri="{{this.uri}}" data-id="{{this.id}}">
      <a href="#">{{this.name}}</a>
    </li>
  {{/each}}
</script>

<script id="single-playlist-template" type="text/x-handlebars-template">
  {{#each this}}
  <li class="playlist_track" data-plist="" data-uri="{{this.track.uri}}">
    {{this.track.artists.0.name}} - {{this.track.name}} <span class="glyphicon glyphicon-remove"></span>
  </li>
  {{/each}}
</script>

<script id="playlist-options-template" type="text/x-handlebars-template">
  <button type="button" class="btn-update btn" data-plist="{{id}}">Update</button>
  <button type="button" class="btn-clear btn" data-plist="{{id}}">Clear</button>
</script>

<script id="search-results-template" type="text/x-handlebars-template">
  {{#each this}}
  <li class="search_result" data-uri="{{this.uri}}">
    {{this.artists.0.name}} - {{this.name}} <span class="glyphicon glyphicon-plus"></span>
  </li>
  {{/each}}
</script>

<script type="text/javascript" src="spotify-web-api.js"></script>
<script type="text/javascript" src="login.js"></script>
<script type="text/javascript" src="playlist.js"></script>

</body>
</html>
